<!DOCTYPE html>
<html lang="en">

<head>
    <title>Vanilla JS Clickable Grid</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
</head>

<body>
  <style>
  .cell {
    width: 20px;
    height: 20px;
    border: 1px solid black;
    margin: 0 0 -1px -1px;
    float: left;
  }

  .cell:nth-child(20n + 1) {
    clear: both;
  }
</style>

<div class="main"></div>  


<script>

  var numCells = 400;
  var fragment = document.createDocumentFragment();

  for (let i=0, el; i < numCells; i++) {
    el = document.createElement('div')
    el.className = 'cell'
    el.onclick = handleCellClick
    el.style.backgroundColor = "white"
    fragment.append(el)
  }

  function handleCellClick(e){
    e.currentTarget.style.backgroundColor = 
      e.currentTarget.style.backgroundColor === 'white' ? 'gray' : 'white'
  }

  document.getElementsByClassName('main')[0].appendChild(fragment)
</script>
</body>

</html>


